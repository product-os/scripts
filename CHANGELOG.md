# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

# v1.24.0
## (2022-04-04)

* Move email sending from versionbot to CI [Anuj Deshpande]

# v1.23.7
## (2022-02-23)

* Pass release name to rfq tool [Anuj Deshpande]

# v1.23.6
## (2022-02-17)

* balena-engine: use new build target [Robert Günzler]

# v1.23.5
## (2021-11-03)

* Update docker-lib [ab77]

# v1.23.4
## (2021-10-07)

* Build should not fail when the trivy report file is missing [Stathis]

# v1.23.3
## (2021-08-31)

* Fix shrinkwrap comparison script [Lorenzo Alberto Maria Ambrosi]

# v1.23.2
## (2021-08-26)

* Auto deploy concourse scripts [Stathis]

# v1.23.1
## (2021-08-19)

* Load latest tag after build to run compose tests [Kyle Harding]

# v1.23.0
## (2021-08-17)

* Support for building multiarch docker images [Kyle Harding]

# v1.22.14
## (2021-07-29)

* Fix yq eval syntax [Stathis]

# v1.22.13
## (2021-07-27)

* Upgrade yq version [Stathis]

# v1.22.12
## (2021-07-08)

* Revert "Revert "Add registry mirror parameter"" [Pagan Gazzard]

# v1.22.11
## (2021-07-08)

* Revert "Add registry mirror parameter" [Pagan Gazzard]

# v1.22.10
## (2021-07-07)

* Add registry mirror parameter [ab77]

# v1.22.9
## (2021-06-30)

* Delete CODEOWNERS [Lucian Buzzo]

# v1.22.8
## (2021-06-10)

* Add source repo to trivy API [Stathis]

# v1.22.7
## (2021-06-09)

* Decrease trivy timeout [Stathis]

# v1.22.6
## (2021-06-04)

* Prevent trivy from failing the build [Stathis]
* Use epoch nano seconds instead of sha [Stathis]

# v1.22.5
## (2021-05-27)

* Fix wrong trivy variable [Stathis]

# v1.22.4
## (2021-05-27)

* Use sha as filename to avoid filename collision in parallel builds [Stathis]

# v1.22.3
## (2021-05-27)

* Collect trivy metrics [Stathis]

# v1.22.2
## (2021-05-18)

* Revert "Revert "Scan docker image with trivy"" [Stathis]

# v1.22.1
## (2021-05-12)

* Revert "Scan docker image with trivy" [Stathis]

# v1.22.0
## (2021-05-12)

* Scan docker image with trivy [Stathis]

# v1.21.7
## (2021-05-06)

* Add org name to balena push [ab77]

# v1.21.6
## (2021-05-06)

* Move unbound variable check [ab77]

# v1.21.5
## (2021-05-06)

* Add git-secrets support to balena task(s) [ab77]

# v1.21.4
## (2021-04-27)

* Always build the last stage (#2) [ab77]

# v1.21.3
## (2021-04-27)

* Always build the last stage [ab77]

# v1.21.2
## (2021-04-27)

* Add support for git-secret [ab77]

# v1.21.1
## (2021-04-26)

* Add an error message when failing to find a build branch to publish [Pagan Gazzard]

# v1.21.0
## (2021-04-02)

* Prefix branch tag [Stathis]

# v1.20.16
## (2021-03-17)

* Enable building docker image variants [ab77]

# v1.20.15
## (2021-03-03)

* Look for the balena.yml file only in root directory [Stathis]

# v1.20.14
## (2021-02-25)

* Create a PR of the contract file to the platform repo [Stathis]

# v1.20.13
## (2021-02-24)

* docker: register qemu binfmt for emulated arm docker builds [Kyle Harding]

# v1.20.12
## (2021-02-08)

* Fix curl check to see if a repo is private for npm/store [Giovanni Garufi]

# v1.20.11
## (2021-01-27)

* Set npm unsafe perm to prevent errors in prepack script [Giovanni Garufi]

# v1.20.10
## (2021-01-26)

* Set npm token in publish job so it can pull private modules if needed [Giovanni Garufi]

# v1.20.9
## (2021-01-11)

* Remove libappindicator1 debian dependency for electron [Alexis Svinartchouk]

# v1.20.8
## (2020-12-09)

* add support for kicad exporting [rcooke-warwick]

# v1.20.7
## (2020-10-01)

* Add balena type to excluded from docker build [Giovanni Garufi]

# v1.20.6
## (2020-08-09)

* Docker Build Script: Unset Concourse AWS keys before loading variables. [Carlo Miguel Cruz]

# v1.20.5
## (2020-07-23)

* Add support to republish ESR branches [nazrhom]

# v1.20.4
## (2020-07-13)

* Escape runtime secrets before loading them [nazrhom]

# v1.20.3
## (2020-07-09)

* Update runtime secret path with concourse prefix [nazrhom]

# v1.20.2
## (2020-07-03)

* Remove secret file after sourcing env vars from it [nazrhom]

# v1.20.1
## (2020-07-03)

* Check if secret file if present [nazrhom]

# v1.20.0
## (2020-07-02)

* Source runtime secrets with chamber [nazrhom]

# v1.19.1
## (2020-06-30)

* Modify rebase so that it will take up to 3 PRs to rebase [nazrhom]

# v1.19.0
## (2020-06-23)

* Add republish event [Giovanni Garufi]
* Combine build and test steps in one [Roman Mazur]

# v1.18.6
## (2020-05-14)

* Change electron tests Xvfb resolution and color depth [Alexis Svinartchouk]

# v1.18.5
## (2020-05-13)

* Only request github metadata information to limit number of github api calls [Giovanni Garufi]
* Use `egrep` rather than `/usr/bin/egrep` for resilience to path changes [Pagan Gazzard]

# v1.18.4
## (2020-05-08)

* Update base-branch check to check if branch is declared as ESR rather than expect only backport commits [Giovanni Garufi]

# v1.18.3
## (2020-05-04)

* Don't depend on lsb rpm package for electron [Alexis Svinartchouk]

# v1.18.2
## (2020-05-04)

* removed -h arguement [rcooke-warwick]
* Changed rfq.sh to reflect updated interface [rcooke-warwick]

# v1.18.1
## (2020-05-04)

* Fix libpango deb package name for electron [Alexis Svinartchouk]

# v1.18.0
## (2020-04-16)

* Expose test npm token to docker build [Giovanni Garufi]
* Refactor event types and add RebaseEvent [Giovanni Garufi]

# v1.17.6
## (2020-03-23)

* Fix docker containers not being published [Tomás Tormo]

# v1.17.5
## (2020-03-20)

* Respect publish setting for docker image [Giovanni Garufi]

# v1.17.4
## (2020-03-20)

* Fix repo check in docker build task [Giovanni Garufi]

# v1.17.3
## (2020-03-20)

* Prevent jq from erroring early if docker_repo is not found [Giovanni Garufi]

# v1.17.2
## (2020-03-20)

* Source files correctly in compose test and enforce docker_repo to be set [Giovanni Garufi]

# v1.17.1
## (2020-03-19)

* Fix docker store job so that it references the latest tag [Giovanni Garufi]

# v1.17.0
## (2020-03-19)

* Delete separate docker-compose job [Giovanni Garufi]
* Add docker-compose should-test [Giovanni Garufi]
* Add import and export image functions [Giovanni Garufi]
* Split docker build and store jobs [Giovanni Garufi]
* Remove --force-recreate [Giovanni Garufi]
* Add docker-compose test file [Giovanni Garufi]

# v1.16.0
## (2020-03-16)

* Add balena-engine build and test [Giovanni Garufi]

# v1.15.0
## (2020-03-09)

* Continue building in case a concurrent app creation happened [Tomás Tormo]

# v1.14.2
## (2020-03-09)

* Login with token before setting -x [Giovanni Garufi]

# v1.14.1
## (2020-03-07)

* Add kaisoz to codeowners [Giovanni Garufi]

# v1.14.0
## (2020-03-06)

* Amend the coding style so that it keeps consistency with other scripts [Tomás Tormo]
* Get the device type as an env variable [Tomás Tormo]
* Check if the device type is supported [Tomás Tormo]
* Add build script to build Balena apps in BalenaCloud [Tomás Tormo]

# v1.13.1
## (2020-03-05)

* Do case insensitive matching when checking if a Github repo is private [Tomás Tormo]

# v1.13.0
## (2020-02-26)

* Add backport script [Giovanni Garufi]

# v1.12.0
## (2020-02-20)

* Pass the readonly npm team to resinci-deploy in case of a private repo [Tomás Tormo]

# v1.11.0
## (2020-02-17)

* Add hardware rfq and extract github release script [Giovanni Garufi]

# v1.10.14
## (2020-02-11)

* Wait for each parallel build individually so that errors get properly propagated [Giovanni Garufi]

# v1.10.13
## (2020-02-07)

* Build and push docker images in parallel [Giovanni Garufi]

# v1.10.12
## (2020-02-05)

* Exclude auto-rebase from repo.yml [Giovanni Garufi]

# v1.10.11
## (2020-02-04)

* Run Xvfb with "-extension GLX" to prevent electron-mocha from segfaulting [Alexis Svinartchouk]

# v1.10.10
## (2020-01-31)

* Change uses of yq to jq when reading .git/.version [Giovanni Garufi]
* Add rebase scripts [Giovanni Garufi]

# v1.10.9
## (2020-01-30)

* Fix missing space in is-pr [Giovanni Garufi]

# v1.10.8
## (2020-01-30)

* Exclude VersionEvent from is-pr [Giovanni Garufi]

# v1.10.7
## (2020-01-28)

* Fix syntax errors introduced in a91300ef5630daf8099eca931aaa5941d9c6b1d1 [Alexis Svinartchouk]

# v1.10.6
## (2020-01-28)

* Remove unused ARGV_TEMPORARY_DIRECTORY in electron scripts [Alexis Svinartchouk]

# v1.10.5
## (2020-01-24)

* Fix missing reference in is-docker script [Giovanni Garufi]

# v1.10.4
## (2020-01-24)

* Check if docker is set to run: false in discriminants [Giovanni Garufi]

# v1.10.3
## (2020-01-06)

* Remove unused electron-create-appdir.sh and electron-create-appimage.sh [Alexis Svinartchouk]
* electron-builder's AppImage systemIntegration option was removed [Alexis Svinartchouk]
* electron-builder's build script was renamed electron-builder [Alexis Svinartchouk]

# v1.10.2
## (2019-11-13)

* Build meta PRs targeting all branches [Giovanni Garufi]

# v1.10.1
## (2019-10-15)

* Don't specify a default "files" section for electron-builder [Alexis Svinartchouk]

# v1.10.0
## (2019-10-01)

* Make sure that build-in-container projects are not marked as docker ones [Giovanni Garufi]
* Add scripts for build-in-container [Giovanni Garufi]

# v1.9.0
## (2019-09-24)

* Exclude docker builds if type is generic [Giovanni Garufi]

# v1.8.8
## (2019-09-11)

* Add taskinfo messages for check tasks [Giovanni Garufi]

# v1.8.7
## (2019-07-15)

* Fix typos [Lorenzo Alberto Maria Ambrosi]

# v1.8.6
## (2019-07-12)

* Add skip option for concourse-build-electron [Lorenzo Alberto Maria Ambrosi]

# v1.8.5
## (2019-07-10)

* Replace arm -> armv7l [Alexis Svinartchouk]

# v1.8.4
## (2019-07-05)

* Make is-npm pass for node-cli projects [Giovanni Garufi]

# v1.8.3
## (2019-07-02)

* Pass args as empty string in default case [Giovanni Garufi]

# v1.8.2
## (2019-07-01)

* Add docker build args to docker build script [Giovanni Garufi]

# v1.8.1
## (2019-07-01)

* Add landr deploy script [Giovanni Garufi]

# v1.8.0
## (2019-06-27)

* Add annotate-source and publish-esr [Giovanni Garufi]
* Rename to meta-esr [Giovanni Garufi]
* Add meta-yocto-based-os-img scripts [Giovanni Garufi]
* Build PRs if a commit is marked as Backport-to [Giovanni Garufi]

# v1.7.6
## (2019-06-13)

* Sanitise branch name before creating docker tag [Giovanni Garufi]

# v1.7.5
## (2019-06-11)

* Add rust and rust-wasm builds [Giovanni Garufi]
* Add rust test [Giovanni Garufi]

# v1.7.4
## (2019-06-06)

* Remove template from script [Giovanni Garufi]

# v1.7.3
## (2019-06-06)

* Add docker build script [Giovanni Garufi]

# v1.7.2
## (2019-05-27)

* patch: use glob instead of unstable ls output [Matthew McGinn]

# v1.7.1
## (2019-05-24)

* Skip katapult deploy [Giovanni Garufi]
* Add deploy, should deploy and keyframes scripts [Giovanni Garufi]

# v1.7.0
## (2019-05-21)

* Attempt to generate contracts and store them in build branch [Giovanni Garufi]

# v1.6.2
## (2019-05-21)

* Build packages that support both ia32 and x64 on windows [Alexis Svinartchouk]

# v1.6.1
## (2019-05-17)

* Add store-github script [Giovanni Garufi]

# v1.6.0
## (2019-05-16)

* Add protect branch script [Giovanni Garufi]
* Exclude all non-node project types from is-npm [Giovanni Garufi]

# v1.5.2
## (2019-05-13)

* Check that patch has already been applied [Lorenzo Alberto Maria Ambrosi]
* Ensure shrinkwrap doesn't change on second install [Lorenzo Alberto Maria Ambrosi]

# v1.5.1
## (2019-05-09)

* is-npm: only run repo.yml-based checks if file exists [Gergely Imreh]

# v1.5.0
## (2019-05-08)

* Add should-store script that checks if package.json sets private: true [Giovanni Garufi]

# v1.4.1
## (2019-05-06)

* Only check private key in pkg.json before store-npm [Giovanni Garufi]

# v1.4.0
## (2019-05-01)

* Take NPM_VERSION as a command line argument [Juan Cruz Viotti]

# v1.3.3
## (2019-05-01)

* Add npm/store script [Giovanni Garufi]

# v1.3.2
## (2019-04-26)

* Check if PR is fork in check-license [Giovanni Garufi]

# v1.3.1
## (2019-04-17)

* Add discriminant scripts [Giovanni Garufi]

# v1.3.0
## (2019-04-15)

* Add proper meta-electron script [Giovanni Garufi]
* Add proper is-meta-pr check [Giovanni Garufi]
* Update find-commits arguments [Giovanni Garufi]
* Add meta script [Giovanni Garufi]

# v1.2.0
## (2019-04-05)

* Do not install ci tools as they are included in the base image [Giovanni Garufi]

# v1.1.2
## (2019-04-04)

* Remove extra logging in license check [Giovanni Garufi]

# v1.1.1
## (2019-04-04)

* Add ci-checks [Giovanni Garufi]

# v1.1.0
## (2019-04-03)

* Revert zipping appImage [Giovanni Garufi]

# v1.0.4
## (2019-04-03)

* Add codeowners [Giovanni Garufi]

# v1.0.3
## (2019-03-22)

* Exclude version line in check npm-shrinkwrap as its modified by VB [Giovanni Garufi]
* Name appImage to avoid spaces [Giovanni Garufi]

# v1.0.2
## (2019-03-18)

* Refactor electron scripts [Giovanni Garufi]

# v1.0.1
## (2019-03-15)

* Fix os check in electron/build.sh [Alexis Svinartchouk]
* Remove win32 paths from electron-builder.sh [Alexis Svinartchouk]
* Add node_modules/.bin to PATH in electron-builder.sh [Alexis Svinartchouk]

# v1.0.0
## (2019-03-12)

* Use local electron-builder version [Lorenzo Alberto Maria Ambrosi]
* Set systemIntegration to doNotAsk in electron builder app image conf [Alexis Svinartchouk]
* Remove custom way to build appimages, use electron-builder [Alexis Svinartchouk]
* Add github publish for dmg, nsis and appImage [Giovanni Garufi]

# v0.2.3
## (2019-03-07)

* Remove darwin test and chown from electron install.sh [Alexis Svinartchouk]

# v0.2.2
## (2019-03-01)

* add aarch64 to arm64 handling [Carlo Maria Curinga]

# v0.2.1
## (2019-02-15)

* Add package scripts [Giovanni Garufi]

# v0.2.0
## (2019-02-08)

* Make npm data directory optional in npm-install.sh [Alexis Svinartchouk]
* Npm version arg (-m) for npm-install.sh [Alexis Svinartchouk]
* Use npm version specified by $NPM_VERSION in ensure-staged-shrinkwrap.sh [Alexis Svinartchouk]

# v0.1.2
## (2019-01-18)

* Ignore by default electron-builder unresolved dependencies [Lorenzo Alberto Maria Ambrosi]

# v0.1.1
## (2018-12-26)

* Ensure AWS secret variables are defined [Håvard Pettersson]

# v0.1.0
## (2018-12-18)

* Add repository type in repo.yml [Lorenzo Alberto Maria Ambrosi]
* electron: Backport various fixes from resin-concourse [Juan Cruz Viotti]
* Add is-master and is-pr scripts [Juan Cruz Viotti]
* Add is-docker and is-npm scripts from Concourse [Juan Cruz Viotti]
* npm-install: Use --build-from-source [Alexis Svinartchouk]
* shared: Add flag to bypass cache upload on npm-install [Juan Cruz Viotti]
* npm-install: Fix CFLAGS unbound variable error [Juan Cruz Viotti]
* npm-install: Use correct Bash append syntax [Juan Cruz Viotti]
* electron/node-cli: Add high level scripts [Juan Cruz Viotti]
* pip: Ignore dependencies installed via easy_install [John (Jack) Brown]
* node-cli: Don't add an extra -cli suffix if not needed [Juan Cruz Viotti]
